# В Файле содержится
# последовательность натуральных
# чисел. Элементы
# последовательности могут
# принимать целые
# значения от 1 до 100000
# включительно. Определите
# количество троек элементов
# последовательности, в
# которых только одно
# из чисел является
# двузначным, а сумма
# элементов тройки
# не меньше максимального
# элемента
# последовательности, оканчивающегося
# на 13. В ответе запишите
# количество найденных
# троек чисел, затем
# максимальную из сумм
# элементов таких
# троек.В данной задаче
# под тройкой подразумевается
# три идущих подряд элемента
# последовательности.
def count_triplets(filename):
    with open(filename, 'r') as file:
        numbers = [int(line.strip()) for line in file]

    # Находим максимальное число, оканчивающееся на 13
    max_ending_13 = max(number for number in numbers if number % 100 == 13)

    # Инициализируем счетчик троек и максимальную сумму
    count = 0
    max_sum = 0

    # Проходим по последовательности с шагом 3
    for i in range(len(numbers) - 2):
        # Проверяем, удовлетворяет ли тройка условиям задачи
        if (
                (10 <= numbers[i] <= 99 and 100 <= numbers[i + 1] <= 100000 and 100 <= numbers[i + 2] <= 100000)
                or (100 <= numbers[i] <= 100000 and 10 <= numbers[i + 1] <= 99 and 100 <= numbers[i + 2] <= 100000)
                or (100 <= numbers[i] <= 100000 and 100 <= numbers[i + 1] <= 100000 and 10 <= numbers[i + 2] <= 99)
        ) and (numbers[i] + numbers[i + 1] + numbers[i + 2] >= max_ending_13):
            count += 1
            # Обновляем максимальную сумму, если текущая сумма больше
            max_sum = max(max_sum, numbers[i] + numbers[i + 1] + numbers[i + 2])

    return count, max_sum


# Вызываем функцию и выводим результат
count, max_sum = count_triplets("308_17 (1).txt")
print(f"Количество найденных троек: {count}")
print(f"Максимальная сумма элементов троек: {max_sum}")
